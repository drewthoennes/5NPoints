webpackJsonp([1],{0:function(t,e){},"2LA7":function(t,e){t.exports={remote_backend:"https://fivenpointsbackend.herokuapp.com",backend:"http://localhost:3000"}},A6B0:function(t,e){},"B5P+":function(t,e){},Fl9v:function(t,e){},NHnr:function(t,e,n){"use strict";function s(t){n("Fl9v")}function o(t){n("A6B0")}function a(t){n("RmBR")}function i(t){n("t0WD")}function r(t){n("QVH4")}function c(t){n("S+3E")}function d(t){n("B5P+")}function l(t){n("niRE")}Object.defineProperty(e,"__esModule",{value:!0});var u=n("7+uW"),h={name:"app"},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},v=[],f={render:p,staticRenderFns:v},m=f,_=n("VU/8"),b=s,k=_(h,m,!1,b,null,null),g=k.exports,$=n("/ocq"),w={name:"Toolbar",data:function(){return{path:null}},methods:{boldLink:function(){"/rewards"==this.$router.history.current.fullPath||"/rewards/"==this.$router.history.current.fullPath?this.path="rewards":"/points"==this.$router.history.current.fullPath||"/points/"==this.$router.history.current.fullPath?this.path="points":"/earn"!=this.$router.history.current.fullPath&&"/earn/"!=this.$router.history.current.fullPath||(this.path="earn")}},mounted:function(){this.boldLink()}},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar-left"},["points"==t.path?n("router-link",{attrs:{to:"/points"}},[n("b",[t._v("Points")])]):n("router-link",{attrs:{to:"/points"}},[t._v("Points")]),t._v(" "),"earn"==t.path?n("router-link",{attrs:{to:"/rewards"}},[n("b",[t._v("Earn")])]):n("router-link",{attrs:{to:"/earn"}},[t._v("Earn")]),t._v(" "),"rewards"==t.path?n("router-link",{attrs:{to:"/rewards"}},[n("b",[t._v("Rewards")])]):n("router-link",{attrs:{to:"/rewards"}},[t._v("Rewards")])],1),t._v(" "),n("div",{staticClass:"toolbar-right"},[n("router-link",{attrs:{id:"login",to:"/login"}},[n("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])],1)])},y=[],P={render:C,staticRenderFns:y},E=P,R=n("VU/8"),U=o,T=R(w,E,!1,U,"data-v-772850cc",null),L=T.exports,F=n("2LA7"),x=n.n(F),A={name:"Points",components:{Toolbar:L},data:function(){return{users:[]}},methods:{getUsers:function(){var t=this;this.$http.get(x.a.backend+"/api/points").then(function(e){t.users=e.body})}},created:function(){this.getUsers()}},V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"points h-100"},[n("div",{staticClass:"col h-100"},[n("Toolbar",{staticClass:"row w-100"}),t._v(" "),n("div",{staticClass:"body"},[n("h1",[t._v("Points")]),t._v(" "),n("table",{staticClass:"table table-bordered"},[t._m(0,!1,!1),t._v(" "),n("tbody",t._l(t.users,function(e){return n("tr",[n("td",[t._v(t._s(e.firstname)+" "+t._s(e.lastname))]),t._v(" "),n("td",[t._v(t._s(e.points))])])}))])])],1)])},B=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("Points")])])])}],N={render:V,staticRenderFns:B},S=N,O=n("VU/8"),H=a,D=O(A,S,!1,H,"data-v-a4077d88",null),q=D.exports,J={name:"Earn",components:{Toolbar:L},data:function(){return{earn:[]}},methods:{getEarn:function(){var t=this;this.$http.get(x.a.backend+"/api/earn").then(function(e){t.earn=e.body})}},created:function(){this.getEarn()}},W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"earn h-100"},[n("div",{staticClass:"col h-100"},[n("Toolbar",{staticClass:"row w-100"}),t._v(" "),n("div",{staticClass:"body"},[n("h1",[t._v("Earn")]),t._v(" "),n("table",{staticClass:"table table-bordered"},[t._m(0,!1,!1),t._v(" "),n("tbody",t._l(t.earn,function(e){return n("tr",[n("td",[t._v(t._s(e.activity))]),t._v(" "),n("td",[t._v(t._s(e.points))])])}))])])],1)])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Activity")]),t._v(" "),n("th",[t._v("Points")])])])}],Q={render:W,staticRenderFns:I},j=Q,K=n("VU/8"),M=i,Z=K(J,j,!1,M,"data-v-387faa38",null),z=Z.exports,G={name:"Rewards",components:{Toolbar:L},data:function(){return{rewards:[]}},methods:{getRewards:function(){var t=this;this.$http.get(x.a.backend+"/api/rewards").then(function(e){t.rewards=e.body})}},created:function(){this.getRewards()}},X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rewards h-100"},[n("div",{staticClass:"col h-100"},[n("Toolbar",{staticClass:"row w-100"}),t._v(" "),n("div",{staticClass:"body"},[n("h1",[t._v("Rewards")]),t._v(" "),n("table",{staticClass:"table table-bordered"},[t._m(0,!1,!1),t._v(" "),n("tbody",t._l(t.rewards,function(e){return n("tr",[n("td",[t._v(t._s(e.points))]),t._v(" "),n("td",[t._v(t._s(e.reward))])])}))])])],1)])},Y=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Points")]),t._v(" "),n("th",[t._v("Rewards")])])])}],tt={render:X,staticRenderFns:Y},et=tt,nt=n("VU/8"),st=r,ot=nt(G,et,!1,st,"data-v-098a6b41",null),at=ot.exports,it={name:"Login",components:{Toolbar:L},methods:{loginUser:function(t){var e=this;t.preventDefault(),this.$refs.username.value&&this.$refs.password.value||alert("Please complete all fields"),this.$http.options.emulateJSON=!0,this.$http.post(x.a.backend+"/login",{username:this.$refs.username.value,password:this.$refs.password.value},{credentials:!0}).then(function(t){!0===t.body.success?(e.$cookie.set("token",t.body.token),e.$cookie.set("id",t.body.id),e.$cookie.set("expires",(new Date).getTime()+7200),At.push({name:"Admin"})):alert("Error: "+t.body.message)})}},mounted:function(){}},rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login h-100"},[n("div",{staticClass:"col h-100"},[n("div",{staticClass:"login container-fluid"},[n("div",{staticClass:"col",attrs:{id:"LoginForm"}},[n("div",{staticClass:"col",attrs:{id:"LoginFormHeader"}},[n("router-link",{attrs:{to:"/points"}},[t._v("Not an admin? View points here.")])],1),t._v(" "),n("div",{attrs:{id:"LoginFormBody"}},[n("h1",[t._v("Log in")]),t._v(" "),n("form",{on:{submit:t.loginUser}},[n("input",{ref:"username",staticClass:"form-control",attrs:{id:"Username",placeholder:"Username",type:"text"}}),t._v(" "),n("input",{ref:"password",staticClass:"form-control",attrs:{id:"Password",placeholder:"Password",type:"password"}}),t._v(" "),n("input",{staticClass:"form-control",attrs:{id:"Submit",placeholder:"Create account",type:"submit"}})])])])])])])},ct=[],dt={render:rt,staticRenderFns:ct},lt=dt,ut=n("VU/8"),ht=c,pt=ut(it,lt,!1,ht,"data-v-850b00cc",null),vt=pt.exports,ft={name:"Toolbar",data:function(){return{}},methods:{logOut:function(){var t=this;this.$cookie.get("token")&&this.$cookie.get("id")?this.$http.post(x.a.backend+"/logout",{token:this.$cookie.get("token"),id:this.$cookie.get("id")}).then(function(e){t.$cookie.delete("token"),t.$cookie.delete("id"),t.$cookie.delete("expires"),At.push({name:"Points"})}):At.push({name:"Points"})}}},mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar-right"},[n("a",{on:{click:t.logOut}},[n("i",{staticClass:"fa fa-sign-out",attrs:{"aria-hidden":"true"}})])])])},_t=[],bt={render:mt,staticRenderFns:_t},kt=bt,gt=n("VU/8"),$t=d,wt=gt(ft,kt,!1,$t,"data-v-2d6b4c94",null),Ct=wt.exports,yt={name:"Admin",components:{AdminToolbar:Ct},data:function(){return{passedTokenCheck:!1,users:[]}},methods:{checkToken:function(){""===this.$cookie.get("token")&&this.$router.push({name:"Login"})},checkPrivileges:function(){this.$http.options.emulateJSON=!0,this.$http.post(x.a.backend+"/admin",{token:this.$cookie.get("token"),id:this.$cookie.get("id")},{credentials:!0}).then(function(t){t.body.success||(alert(t.body.message),At.push({name:"Login"}))})},getUsers:function(){var t=this;this.$http.get(x.a.backend+"/api/points").then(function(e){t.users=e.body})},incrementPoints:function(t){var e=this;this.$http.post(x.a.backend+"/increment",{token:this.$cookie.get("token"),id:this.$cookie.get("id"),pointId:t}).then(function(t){t.body.success?e.getUsers():(alert(t.body.message),e.$router.push({name:"Login"}))})},decrememtPoints:function(t){var e=this;this.$http.post(x.a.backend+"/decrement",{token:this.$cookie.get("token"),id:this.$cookie.get("id"),pointId:t}).then(function(t){t.body.success?e.getUsers():(alert(t.body.message),e.$router.push({name:"Login"}))})}},created:function(){this.$cookie.get("token")?this.passedTokenCheck=!0:this.$router.push({name:"Login"})},mounted:function(){this.passedTokenCheck&&(this.checkPrivileges(),this.getUsers())}},Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin h-100"},[n("div",{staticClass:"col h-100"},[n("AdminToolbar",{staticClass:"row w-100"}),t._v(" "),n("div",{staticClass:"body"},[n("h1",[t._v("Points")]),t._v(" "),n("table",{staticClass:"table table-bordered"},[t._m(0,!1,!1),t._v(" "),n("tbody",t._l(t.users,function(e){return n("tr",[n("td",[t._v(t._s(e.firstname)+" "+t._s(e.lastname))]),t._v(" "),n("td",[n("p",{on:{click:function(n){t.decrememtPoints(e._id)}}},[t._v("-")]),n("p",[t._v(" "+t._s(e.points)+" ")]),n("p",{on:{click:function(n){t.incrementPoints(e._id)}}},[t._v("+")])])])}))])])],1)])},Et=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("Name")]),t._v(" "),n("th",[t._v("Points")])])])}],Rt={render:Pt,staticRenderFns:Et},Ut=Rt,Tt=n("VU/8"),Lt=l,Ft=Tt(yt,Ut,!1,Lt,"data-v-ca200566",null),xt=Ft.exports;u.a.use($.a);var At=new $.a({hashbang:!1,history:!0,mode:"history",routes:[{path:"/points",name:"Points",component:q},{path:"/earn",name:"Earn",component:z},{path:"/rewards",name:"Rewards",component:at},{path:"/login",name:"Login",component:vt},{path:"/admin",name:"Admin",component:xt},{path:"*",redirect:"/points"}]}),Vt=n("ORbq"),Bt=n("K/Lq"),Nt=n.n(Bt),St=n("UnSZ"),Ot=n.n(St);u.a.config.productionTip=!1,u.a.use(Vt.a),u.a.use(Nt.a),u.a.use(Ot.a),new u.a({el:"#app",router:At,template:"<App/>",components:{App:g},mounted:function(){this.$localStorage.set("token","")}})},QVH4:function(t,e){},RmBR:function(t,e){},"S+3E":function(t,e){},niRE:function(t,e){},t0WD:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.118ec78565937101e9e4.js.map